<form [formGroup]="myForm" (ngSubmit)="doRegister()">
  <div class="form-group">
    <label>Name</label>
    <input
      type="text"
      placeholder="Name..."
      class="form-control"
      [ngClass]="submitted && myForm.controls.name.errors ? 'is-invalid' : ''"
      formControlName="name"
    />
  </div>
  <div *ngIf="submitted && myForm.controls.name.errors">
    <div *ngIf="myForm.controls.name.errors.required">
      This field is required
    </div>
  </div>
  <div class="form-group">
    <label>Email</label>
    <input
      type="text"
      placeholder="Email..."
      class="form-control"
      formControlName="email"
    />
  </div>
  <div formGroupName="passwords">
    <div class="form-group">
      <label>Password</label>
      <input
        type="password"
        placeholder="Password..."
        formControlName="password"
        class="form-control"
      />
    </div>
    <div class="form-group">
      <label>Confirm Password</label>
      <input
        type="password"
        placeholder="Confirm password..."
        formControlName="confirm_password"
        class="form-control"
      />
    </div>
  </div>

  <hr />
  <button class="btn btn-primary" type="submit">Register</button>
</form>
